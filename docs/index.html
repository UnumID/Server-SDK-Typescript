<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>@unumid/server-sdk</title>
	<meta name="description" content="Documentation for @unumid/server-sdk">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
	<script async src="assets/js/search.js" id="search-script"></script>
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">@unumid/server-sdk</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<h1>@unumid/server-sdk</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<p>This SDK combines the functionality of an <a href="#issuer"><strong>Issuer</strong></a> and <a href="#verifier"><strong>Verifier</strong></a> entities to work with UnumID&#39;s SaaS. For necessary account creation and API keys please email <a href="mailto:admin@unum.id">admin@unum.id</a>.</p>
				<a href="#sdk-functionality" id="sdk-functionality" style="color: inherit; text-decoration: none;">
					<h2>SDK Functionality</h2>
				</a>
				<p>The Server SDK uses the <strong>UnumDto</strong> type to facilitate handling many response body types while providing a reliable structure to access the result body and importantly the rolling JWT authToken.</p>
				<pre><code class="language-typescript"><span style="color: #000000">{</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;authToken&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">; </span><span style="color: #008000">// The JWT auth token which is used by the SDK to authenticate with UnumID&#039;s SaaS. This is periodically refreshed thus its value should be read and stored in every resultant function call. </span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;body&quot;</span><span style="color: #000000">: </span><span style="color: #0070C1">T</span><span style="color: #000000">; </span><span style="color: #008000">// The placeholder for the function&#039;s response type is function specific. </span>
<span style="color: #000000">}</span>
</code></pre>
				<p><strong>Authentication</strong>
				Every request detailed below requires a Bearer <code>authToken</code> as a first parameter which is used to authenticate request to UnumID&#39;s SaaS on your behalf. As mention above this auth token updated upon every subsequent function call and should be read via the <code>authToken</code> attribute and persisted accordingly for later requests. </p>
				<p><strong>Errors</strong>
				Errors returned by UnumID&#39;s SaaS will also be wrapped in the UnumDto object so that the potentially updated <code>authToken</code> can be retrieved. Validation errors which are created prior to any internal calls to UnumID&#39;s SaaS will be of type Error and are thrown. This is due to never making a network call with the provided authToken so no potential new authToken to pass back. For this reason we recommend wrapping all SDK calls in a try/catch.</p>
				<a href="#issuer" id="issuer" style="color: inherit; text-decoration: none;">
					<h2>Issuer</h2>
				</a>
				<p>The Issuer functionality is used by a customer acting as an Issuer. It allows customers to perform actions such as issuing and revoking Credentials.</p>
				<a href="#registerissuer" id="registerissuer" style="color: inherit; text-decoration: none;">
					<h3>registerIssuer</h3>
				</a>
				<p>Register an issuer corresponding to your customer UUID and issuer API key provided by UnumID. As a customer, you can register as many issuers as you like (or none at all), depending on your use case. Note, however, that you&#39;ll need a unique issuer API key for each one.</p>
				<p>You should store the DID (<code>did</code>) and encryption and signing key pairs (<code>keys</code>) that this returns. You&#39;ll need these to issue credentials to users.</p>
				<p>Parameters:</p>
				<pre><code class="language-typescript"><span style="color: #A31515">&quot;name&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// human readable name for issuer. Displayed to users in mobile apps when verifiers request credentials.</span>
<span style="color: #A31515">&quot;customerUuid&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// your customer UUID</span>
<span style="color: #A31515">&quot;apiKey&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000"> </span><span style="color: #008000">// your issuer API key</span>
</code></pre>
				<p>Response Body:  <a href="https://docs.unum.id/Server-SDK-Typescript/interfaces/registeredissuer.html"><strong>RegisteredIssuer</strong></a></p>
				<pre><code class="language-typescript"><span style="color: #000000">{</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;uuid&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// identifies issuer in Unum ID database</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;customerUuid&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// identifies customer in Unum ID database</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;did&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// identifies issuer in Unum ID ecosystem</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;name&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// human-readable name for issuer</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;createdAt&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// when issuer was registered</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;updatedAt&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// when issuer was last updated</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;keys&quot;</span><span style="color: #000000">: {</span>
<span style="color: #000000">    </span><span style="color: #A31515">&quot;signing&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> {</span>
<span style="color: #000000">      </span><span style="color: #A31515">&quot;privateKey&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// you use this to create signatures on credentials</span>
<span style="color: #000000">      </span><span style="color: #A31515">&quot;publicKey&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// subjects and verifiers use this to verify your signatures on credentials</span>
<span style="color: #000000">    }</span>
<span style="color: #000000">    </span><span style="color: #A31515">&quot;encryption&quot;</span><span style="color: #000000">: {</span>
<span style="color: #000000">      </span><span style="color: #A31515">&quot;privateKey&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// you use this to encrypt credentials you send to subjects</span>
<span style="color: #000000">      </span><span style="color: #A31515">&quot;publicKey&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// subjects use this to decrypt credentials they receive from you</span>
<span style="color: #000000">    }</span>
<span style="color: #000000">  }</span>
<span style="color: #000000">}</span>
</code></pre>
				<a href="#issuecredential" id="issuecredential" style="color: inherit; text-decoration: none;">
					<h3>issueCredential</h3>
				</a>
				<p>Issue a credential to a Subject, also known as a User.</p>
				<p>You need to provide your Issuer DID (created when you registered), as well as your signing and encryption private keys, which the Issuer uses to sign and encrypt the credential. You need to specify a credential <code>type</code>, which verifiers will use to later request the credential from the user.</p>
				<p>This returns a credential <code>id</code> that should be stored for reference. For example, the credential id is required to revoke the credential if need be. We would recommend storing the entire credential indexed on the resultant credential <code>id</code>. Note that there are also id fields within a <code>credentialSubject</code> and <code>credentialStatus</code>, but these are different. They refer to the subject DID and credential status identifier, respectively, as defined by the W3C spec [<a href="https://www.w3.org/TR/vc-data-model/#credential-subject">1</a>],[<a href="https://www.w3.org/TR/vc-data-model/#status">2</a>].</p>
				<p><strong>Important</strong>: The private keys never leave your app. This function, like all the others in this SDK, needs them in order to handle to cryptographic functionality on your behalf.</p>
				<p>Parameters</p>
				<pre><code class="language-typescript"><span style="color: #A31515">&quot;type&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000"> || </span><span style="color: #001080">string</span><span style="color: #000000">[], </span><span style="color: #008000">// The Credential type(s)</span>
<span style="color: #A31515">&quot;issuer&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// your issuer DID</span>
<span style="color: #A31515">&quot;credentialSubject&quot;</span><span style="color: #000000">: {</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;id&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// subject DID</span>
<span style="color: #000000">  </span><span style="color: #001080">[key: string]:</span><span style="color: #000000"> </span><span style="color: #001080">any</span><span style="color: #000000">, </span><span style="color: #008000">// data about subject (any valid JSON)</span>
<span style="color: #000000">},</span>
<span style="color: #A31515">&quot;signingPrivateKey&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000"> </span><span style="color: #008000">// your issuer signing private key</span>
<span style="color: #A31515">&quot;expirationDate&quot;</span><span style="color: #000000">?: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// (optional) when credential will no longer be valid (ISO 8601 date/time)</span>
</code></pre>
				<p>Response Body: <a href="https://docs.unum.id/Server-SDK-Typescript/interfaces/credential.html"><strong>Credential</strong></a></p>
				<pre><code class="language-typescript"><span style="color: #000000">{</span>
<span style="color: #000000">    </span><span style="color: #A31515">&quot;@context&quot;</span><span style="color: #000000">: [</span><span style="color: #A31515">&quot;https://www.w3.org/2018/credentials/v1&quot;</span><span style="color: #000000">], </span><span style="color: #008000">// for conformance with W3C Verifiable Credential spec</span>
<span style="color: #000000">    </span><span style="color: #A31515">&quot;credentialStatus&quot;</span><span style="color: #000000">: {</span>
<span style="color: #000000">        </span><span style="color: #A31515">&quot;id&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// a url for credential&#039;s status</span>
<span style="color: #000000">        </span><span style="color: #A31515">&quot;type&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;CredentialStatus&quot;</span>
<span style="color: #000000">    },</span>
<span style="color: #000000">    </span><span style="color: #A31515">&quot;credentialSubject&quot;</span><span style="color: #000000">: {</span>
<span style="color: #000000">        </span><span style="color: #A31515">&quot;id&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// subject DID</span>
<span style="color: #000000">        </span><span style="color: #001080">[key: string]:</span><span style="color: #000000"> </span><span style="color: #001080">any</span><span style="color: #000000">, </span><span style="color: #008000">// // data about subject</span>
<span style="color: #000000">    },</span>
<span style="color: #000000">    </span><span style="color: #A31515">&quot;issuer&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// issuer DID</span>
<span style="color: #000000">    </span><span style="color: #A31515">&quot;type&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">[], </span><span style="color: #008000">// credential type(s), always begins with &quot;VerifiableCredential&quot;</span>
<span style="color: #000000">    </span><span style="color: #A31515">&quot;id&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// identifies credential (version 4 UUID)</span>
<span style="color: #000000">    </span><span style="color: #A31515">&quot;issuanceDate&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// when credential was issued (ISO 8601 date/time)</span>
<span style="color: #000000">    </span><span style="color: #A31515">&quot;expirationDate&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// when credential will no longer be valid (ISO 8601 date-time)</span>
<span style="color: #000000">    </span><span style="color: #A31515">&quot;proof&quot;</span><span style="color: #000000">: </span><span style="color: #001080">Proof</span><span style="color: #000000"> </span><span style="color: #008000">// cryptographic proof created by signing credential with your issuer signing private key. Can be used to verify credential.</span>
<span style="color: #000000">}</span>
</code></pre>
				<a href="#updatecredentialstatus" id="updatecredentialstatus" style="color: inherit; text-decoration: none;">
					<h3>updateCredentialStatus</h3>
				</a>
				<p>Update a credential, i.e. make it invalid.</p>
				<p>You need to provide the credential <code>id</code> (created when you issued the credential) and a <a href="https://docs.unum.id/types/modules.html#credentialstatusoptions">CredentialStatusOptions</a> <code>status</code>. Currently there are only two statuses:&quot;valid&quot; and &quot;revoked&quot;.</p>
				<pre><code class="language-typescript"><span style="color: #AF00DB">export</span><span style="color: #000000"> </span><span style="color: #0000FF">type</span><span style="color: #000000"> </span><span style="color: #267F99">CredentialStatusOptions</span><span style="color: #000000"> = </span><span style="color: #A31515">&#039;valid&#039;</span><span style="color: #000000"> | </span><span style="color: #A31515">&#039;revoked&#039;</span><span style="color: #000000">;</span>
</code></pre>
				<p>Parameters</p>
				<pre><code class="language-typescript"><span style="color: #000000">{</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;credentialId&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000"> </span><span style="color: #008000">// id of the credential</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;status&quot;</span><span style="color: #000000">: </span><span style="color: #001080">CredentialStatusOptions</span><span style="color: #000000"> </span><span style="color: #008000">// status to update the credential to (defaults to &#039;revoked&#039;)</span>
<span style="color: #000000">}</span>
</code></pre>
				<p>Response Body: <strong>Empty</strong>. If unsuccessful and exception will be thrown.</p>
				<pre><code class="language-typescript"><span style="color: #000000">{}</span>
</code></pre>
				<a href="#verifier" id="verifier" style="color: inherit; text-decoration: none;">
					<h2>Verifier</h2>
				</a>
				<p>The Verifier functionality is used by a customer acting as a verifier. Most importantly, it allows customers to send PresentationRequests to the UnumID mobile SDK and to verify the encrypted Presentation responses.</p>
				<a href="#registerverifier" id="registerverifier" style="color: inherit; text-decoration: none;">
					<h3>registerVerifier</h3>
				</a>
				<p>Register a verifier corresponding to your customer UUID and verifier API key that UnumID provides. As a customer, you can register as many verifiers as you like (or none at all), depending on your use case. Note, however, that you&#39;ll need a unique verifier API key for each one.</p>
				<p>You should store the DID (<code>did</code>) and signing key pair (<code>keys</code>) that this returns. You&#39;ll need these to create requests for (presentations of) credentials from users.</p>
				<p>Parameters</p>
				<pre><code class="language-typescript"><span style="color: #A31515">&quot;name&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// human readable name for verifier. Displayed to users in mobile apps when you make requests.</span>
<span style="color: #A31515">&quot;customerUuid&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// your customer UUID</span>
<span style="color: #A31515">&quot;url&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// the url of which UnumID&#039;s SaaS will interface with</span>
<span style="color: #A31515">&quot;apiKey&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000"> </span><span style="color: #008000">// your verifier API key</span>
</code></pre>
				<p>Response body: <a href="https://docs.unum.id/Server-SDK-Typescript/interfaces/registeredverifier.html"><strong>RegisteredVerifier</strong></a></p>
				<pre><code class="language-typescript"><span style="color: #000000">{</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;uuid&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// identifies verifier in Unum ID database</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;customerUuid&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// identifies customer in Unum ID database</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;did&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// identifiers verifier in Unum ID ecosystem</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;name&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// human-readable name for verifier</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;createdAt&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// when verifier was registered (ISO 8601 date/time)</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;updatedAt&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// when verifier was last updated (ISO 8601 date/time)</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;keys&quot;</span><span style="color: #000000">: {</span>
<span style="color: #000000">    </span><span style="color: #A31515">&quot;signing&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> {</span>
<span style="color: #000000">      </span><span style="color: #A31515">&quot;privateKey&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// you use this to create signatures on requests</span>
<span style="color: #000000">      </span><span style="color: #A31515">&quot;publicKey&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// subjects use this to verify your signatures on requests</span>
<span style="color: #000000">    }, </span><span style="color: #A31515">&quot;encryption&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> {</span>
<span style="color: #000000">      </span><span style="color: #A31515">&quot;privateKey&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// you use this to decrypt presentations you receive from subjects</span>
<span style="color: #000000">      </span><span style="color: #A31515">&quot;publicKey&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// subjects use this to encrypt presentations they send to you</span>
<span style="color: #000000">    }</span>
<span style="color: #000000">  }</span>
</code></pre>
				<a href="#sendrequest" id="sendrequest" style="color: inherit; text-decoration: none;">
					<h3>sendRequest</h3>
				</a>
				<p>Create a request for (a presentation of) credentials from a user.</p>
				<p>You need to provide your verifier DID (created when you registered) and the UUID of the holder app from which the user can share the data. You also need to provide your signing private key, which the SDK uses to sign the request.</p>
				<p><strong>Important</strong>: The signing private key never leaves your app. This function, like all the others in this SDK, is solely using it to handle to cryptographic functionality on your behalf.</p>
				<p>To request credentials, you need to populate one or more <a href="https://docs.unum.id/types/interfaces/credentialrequest.html">CredentialRequest</a> objects, defined in the UnumID generic <a href="https://github.com/UnumID/types/blob/00ba819e661e2856ba9909923ac6f083b9a15e85/index.d.ts#L113-L117">types</a> project and shown below.</p>
				<pre><code class="language-typescript"><span style="color: #AF00DB">export</span><span style="color: #000000"> </span><span style="color: #0000FF">interface</span><span style="color: #000000"> </span><span style="color: #267F99">CredentialRequest</span><span style="color: #000000"> {</span>
<span style="color: #000000">  </span><span style="color: #001080">type</span><span style="color: #000000">: </span><span style="color: #267F99">string</span><span style="color: #000000">; </span><span style="color: #008000">// credential type. This must match type of previously issued credential.</span>
<span style="color: #000000">  </span><span style="color: #001080">issuers</span><span style="color: #000000">: </span><span style="color: #267F99">string</span><span style="color: #000000">[]; </span><span style="color: #008000">// list of DIDs for acceptable issuers. If multiple, any one is acceptable.</span>
<span style="color: #000000">  </span><span style="color: #001080">required</span><span style="color: #000000">?: </span><span style="color: #267F99">boolean</span><span style="color: #000000">; </span><span style="color: #008000">// (optional) if credential is required (default is true)</span>
<span style="color: #000000">}</span>
</code></pre>
				<p>If you list more than one acceptable <code>issuers</code> (entities that issued the desired credential type), the user can share a credential issued by any of the ones listed.</p>
				<p>Parameters</p>
				<pre><code class="language-typescript"><span style="color: #A31515">&quot;verifier&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// your verifier DID</span>
<span style="color: #A31515">&quot;credentialRequests&quot;</span><span style="color: #000000">: </span><span style="color: #001080">CredentialRequest</span><span style="color: #000000">[], </span><span style="color: #008000">// a list of one or more CredentialRequest objects. Encodes which credentials should be included in presentation that responds to PresentationRequest.</span>
<span style="color: #A31515">&quot;signingPrivateKey&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// your verifier signing private key</span>
<span style="color: #A31515">&quot;holderAppUuid&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// identifies mobile app subjects will share presentations from</span>
<span style="color: #A31515">&quot;expiresAt&quot;</span><span style="color: #000000">?: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// (optional) when PresentationRequest will no longer be valid (ISO 8601 date/time). Default is 10 minutes after creation.</span>
<span style="color: #A31515">&quot;metadata&quot;</span><span style="color: #000000">?: </span><span style="color: #001080">object</span><span style="color: #000000"> </span><span style="color: #008000">// (optional) any additional data to include in PresentationRequest</span>
</code></pre>
				<p>Response Body: <a href="https://docs.unum.id/Server-SDK-Typescript/interfaces/presentationrequestresponse.html"><strong>PresentationRequestResponse</strong></a></p>
				<pre><code class="language-typescript"><span style="color: #000000">{</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;presentationRequest&quot;</span><span style="color: #000000">: {</span>
<span style="color: #000000">    </span><span style="color: #A31515">&quot;uuid&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// identifies PresentationRequest in Unum ID database</span>
<span style="color: #000000">    </span><span style="color: #A31515">&quot;createdAt&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// when PresentationRequest was created (ISO 8601 date/time)</span>
<span style="color: #000000">    </span><span style="color: #A31515">&quot;updatedAt&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// when PresentationRequest was last updated (ISO 8601 date/time). Should always be same as createdAt.</span>
<span style="color: #000000">    </span><span style="color: #A31515">&quot;expiresAt&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// when PresentationRequest will no longer be valid (ISO 8601 date/time)</span>
<span style="color: #000000">    </span><span style="color: #A31515">&quot;verifier&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// your verifier DID</span>
<span style="color: #000000">    </span><span style="color: #A31515">&quot;credentialRequests&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #001080">CredentialRequest</span><span style="color: #000000">[], </span><span style="color: #008000">// a list of one or more CredentialRequest objects. Encodes which credentials should be included in presentation that responds to PresentationRequest.</span>
<span style="color: #000000">    </span><span style="color: #A31515">&quot;proof&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #001080">Proof</span><span style="color: #000000">, </span><span style="color: #008000">// acryptographic proof created by signing PresentationRequest with your verifier signing private key. Can be used to verify PresentationRequest.</span>
<span style="color: #000000">    </span><span style="color: #A31515">&quot;metadata&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #001080">object</span><span style="color: #000000"> </span><span style="color: #008000">// any additional data to include in PresentationRequest</span>
<span style="color: #000000">  },</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;verifier&quot;</span><span style="color: #000000">: {</span>
<span style="color: #000000">      </span><span style="color: #A31515">&quot;name&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// human readable name for verifier. Displayed to users in mobile apps.</span>
<span style="color: #000000">      </span><span style="color: #A31515">&quot;did&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// your verifier DID</span>
<span style="color: #000000">      </span><span style="color: #A31515">&quot;url&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #001080">string</span><span style="color: #000000"> </span><span style="color: #008000">// endpoint you use to receive presentations</span>
<span style="color: #000000">  },</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;issuers&quot;</span><span style="color: #000000">: {</span>
<span style="color: #000000">      </span><span style="color: #A31515">&quot;IssuerDid:string&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> { </span><span style="color: #008000">// map keyed on issuer DID(s) that issued requested credential(s)</span>
<span style="color: #000000">        </span><span style="color: #A31515">&quot;name&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// human readable name for issuer</span>
<span style="color: #000000">        </span><span style="color: #A31515">&quot;did&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #001080">string</span><span style="color: #000000"> </span><span style="color: #008000">// issuer DID</span>
<span style="color: #000000">      }</span>
<span style="color: #000000">  },</span>
<span style="color: #000000">  </span><span style="color: #008000">/* You send this to a user with the Web SDK: */</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;deeplink&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// deep link (URL) that can be used to trigger intended mobile app to load PresentationRequest</span>
<span style="color: #000000">  </span><span style="color: #008000">/* You display this to a user with the Web SDK */</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;qrCode&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000"> </span><span style="color: #008000">// QR code representation of deep link (encoded as data URL)</span>
<span style="color: #000000">}</span>
</code></pre>
				<a href="#verifypresentation" id="verifypresentation" style="color: inherit; text-decoration: none;">
					<h3>verifyPresentation</h3>
				</a>
				<p>Handles decrypting the encrypted presentation and verifies the signatures are valid.</p>
				<p>This is used in service behind the <code>/presentation</code> endpoint that needs to be defined according to <a href="https://unumid.postman.co/workspace/Unum-ID-Team-Workspace~48b1f312-a6e6-4bcc-86a0-aa4bc37df9b4/api/09ad0ccd-c614-4d54-a1b4-ff9ae85b8449?version=c217a461-fc05-4476-a792-6c9163f2a198&amp;tab=define">this</a> spec which UnumID&#39;s SaaS forwards encrypted Presentations to.  </p>
				<p><strong>Important</strong> Although the mobile SDK sends the presentations directly to UnumID&#39;s SaaS, UnumID never has access to the credentials within the presentation. The mobile SDK encrypts all presentations with the presentation requesting verifier&#39;s public key, to which the requestor is the only ones with necessary decryption private key, the Verifier&#39;s <code>encryptionPrivateKey</code>, an attribute created with the registerVerifier call.</p>
				<p>Parameters</p>
				<pre><code class="language-typescript"><span style="color: #A31515">&quot;encryptedPresentation&quot;</span><span style="color: #000000">: </span><span style="color: #001080">EncryptedData</span><span style="color: #000000">, </span><span style="color: #008000">// encrypted presentation</span>
<span style="color: #A31515">&quot;verifierDid&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// your verifier DID</span>
<span style="color: #A31515">&quot;encryptionPrivateKey&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000"> </span><span style="color: #008000">// your verifier encryption private key</span>
</code></pre>
				<p>Response Body: <a href="https://docs.unum.id/Server-SDK-Typescript/interfaces/decryptedpresentation.html"><strong>DecryptedPresentation</strong></a></p>
				<pre><code class="language-typescript"><span style="color: #000000">{</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;isVerified&quot;</span><span style="color: #000000">: </span><span style="color: #001080">boolean</span><span style="color: #000000">; </span><span style="color: #008000">// whether the presentation is valid</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;type&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&#039;VerifiablePresentation&#039;</span><span style="color: #000000"> | </span><span style="color: #A31515">&#039;NoPresentation&#039;</span><span style="color: #000000"> </span><span style="color: #008000">// type of presentation. NoPresentation means user declined request.</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;presentation&quot;</span><span style="color: #000000">: </span><span style="color: #001080">Presentation</span><span style="color: #000000"> | </span><span style="color: #001080">NoPresentation</span><span style="color: #000000">, </span><span style="color: #008000">// decrypted Presentation (or NoPresentation) object</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;message&quot;</span><span style="color: #000000">?: </span><span style="color: #001080">string</span><span style="color: #000000">; </span><span style="color: #008000">// (optional) included if isVerified is false. Explains why verification failed.</span>
<span style="color: #000000">}</span>
</code></pre>
				<a href="#sendsms" id="sendsms" style="color: inherit; text-decoration: none;">
					<h3>sendSms</h3>
				</a>
				<p>Use to send a deep link to a user by SMS. The message will be delivered from an UnumID associated phone number. You can of course use your own SMS sending service if you prefer.</p>
				<p>To request (a presentation of) credentials from a user, you first create the request object and receive a deep link that references it. The user need to receive this deep link, which will open the correct app on their phone and prompt them to share the credentials. SMS is one convenient channel.</p>
				<p>Parameters</p>
				<pre><code class="language-typescript"><span style="color: #000000">{</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;to&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// phone number to send SMS to</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;msg&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000"> </span><span style="color: #008000">// message to send</span>
<span style="color: #000000">}</span>
</code></pre>
				<p>Response Body: <strong>Empty</strong>. If unsuccessful and exception will be thrown.</p>
				<pre><code class="language-typescript"><span style="color: #000000">{}</span>
</code></pre>
				<a href="#sendemail" id="sendemail" style="color: inherit; text-decoration: none;">
					<h3>sendEmail</h3>
				</a>
				<p>Use to send a deep link to a user by email. The message will be delivered from <a href="mailto:no-reply@unum.id">no-reply@unum.id</a>. You can of course use your own email sending service if you prefer.</p>
				<p>To request (a presentation of) credentials from a user, you first create the request object and receive a deep link that references it. The user need to receive this deep link, which will open the correct app on their phone and prompt them to share the credentials. Email is one convenient channel, though keep in mind that the user will need to click the link from their phone for the deep link to work.</p>
				<p><strong>Tip</strong>: JSON special characters such a double quote or backslash in the <code>subject</code> or <code>htmlBody</code> fields will need to be escaped with a single backslash (\), i.e. &quot;the best org in the country&quot; must be \&quot;the best org in the country\&quot;.</p>
				<p>Parameters</p>
				<pre><code class="language-typescript"><span style="color: #000000">{</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;to&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// email address to send email to</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;from&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// from email address</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;replyTo&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// replyTo email address</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;subject&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// email subject</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;textBody&quot;</span><span style="color: #000000">?: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// (optional) email message body (cannot be used with htmlBody)</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;htmlBody&quot;</span><span style="color: #000000">?: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// (optional) email html message body (cannot be used with textBody)</span>
<span style="color: #000000">}</span>
</code></pre>
				<p>Response Body: <strong>Empty</strong>. If unsuccessful and exception will be thrown.</p>
				<pre><code class="language-typescript"><span style="color: #000000">{}</span>
</code></pre>
				<a href="#checkcredentialstatus" id="checkcredentialstatus" style="color: inherit; text-decoration: none;">
					<h3>checkCredentialStatus</h3>
				</a>
				<p>Used to check the status of a credential. Currently the only valid status are: verified and revoked.</p>
				<p>Parameters</p>
				<pre><code class="language-typescript"><span style="color: #000000">{</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;credentialId&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// the id of the credential in question</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;authorization&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000"> </span><span style="color: #008000">// auth token</span>
<span style="color: #000000">}</span>
</code></pre>
				<p>Response Body: <strong>CredentialStatusInfo</strong>. If unsuccessful and exception will be thrown.</p>
				<pre><code class="language-typescript"><span style="color: #000000">{</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;createdAt&quot;</span><span style="color: #000000">: </span><span style="color: #267F99">Date</span><span style="color: #000000">; </span><span style="color: #008000">// the time  the credential was recorded as created in the UnumID SaaS db</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;updatedAt&quot;</span><span style="color: #000000">: </span><span style="color: #267F99">Date</span><span style="color: #000000">; </span><span style="color: #008000">// the time  the credential was recorded as updated in the UnumID SaaS db</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;credentialId&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">; </span><span style="color: #008000">// the did (aka id) of the credential this status is in regard to</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;status&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&#039;valid&#039;</span><span style="color: #000000"> | </span><span style="color: #A31515">&#039;revoked&#039;</span><span style="color: #000000">; </span><span style="color: #008000">// the status</span>
<span style="color: #000000">}</span>
</code></pre>
				<a href="#other-information" id="other-information" style="color: inherit; text-decoration: none;">
					<h2>Other Information</h2>
				</a>
				<a href="#distribution" id="distribution" style="color: inherit; text-decoration: none;">
					<h3>Distribution</h3>
				</a>
				<p>Currently this project is still closed source, so standard distribution options via public source code or NPM repository are not viable. Downstream projects are leveraging this project via it&#39;s git url using Docker Buildkit to provide SSH credentials for access to this Github source code repo. An example of such a buildkit configuration can be found in the <a href="https://github.com/UnumID/hooli-demo-server">hooli-demo-server</a> <code>Dockerfile</code> and <code>.circleci/config.yaml</code>.</p>
				<p>We considered opting to build and push as a private module through a private Github NPM repo. However due to the complexities of configuring a downstream project to have rights to pull from the private NPM repo we have opted to not add pushing a private package to our CI job. </p>
				<p>Soon, we hope to open source this project and uploaded the package as public NPM module.  </p>
				<a href="#global-dependencies" id="global-dependencies" style="color: inherit; text-decoration: none;">
					<h3>Global Dependencies</h3>
				</a>
				<ul>
					<li>NodeJS v14.0.0 or higher, preferably v14.15.0 or higher</li>
					<li>yarn</li>
				</ul>
				<a href="#logging" id="logging" style="color: inherit; text-decoration: none;">
					<h3>Logging</h3>
				</a>
				<p>Logs level defaults to Info. One can set to debug for more information via the environment variable LOG_LEVEL, i.e. LOG_LEVEL=debug. We are using standard NPM log levels. More details on the various log levels <a href="https://github.com/winstonjs/winston#logging-levels">here</a>.</p>
				<p>The logs default to stdout so can be aggregated using any log provider you would like from disk.</p>
				<a href="#documentation" id="documentation" style="color: inherit; text-decoration: none;">
					<h3>Documentation</h3>
				</a>
				<p>High level technical documentation can be found <a href="https://https://docs.unum.id/server-sdk">here</a> which is served via <a href="https://github.com/UnumID/UnumID.github.io">Docusaurus</a>. More detailed generated from source documentation can be found <a href="https://docs.unum.id/Server-SDK-Typescript/index.html">here</a> which is served via repo specific Github pages via the /docs folder of the main branch.</p>
				<p>In order to generate the Typedoc documentation from the source code run the <code>createTypedocs.sh</code> script.</p>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class=" ">
						<a href="modules.html">Exports</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
					<li class=" tsd-kind-class tsd-is-external">
						<a href="classes/custerror.html" class="tsd-kind-icon">Cust<wbr>Error</a>
					</li>
					<li class=" tsd-kind-interface tsd-is-external">
						<a href="interfaces/credential.html" class="tsd-kind-icon">Credential</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/credentialinfo.html" class="tsd-kind-icon">Credential<wbr>Info</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/credentialstatusinfo.html" class="tsd-kind-icon">Credential<wbr>Status<wbr>Info</a>
					</li>
					<li class=" tsd-kind-interface tsd-is-external">
						<a href="interfaces/credentialsubject.html" class="tsd-kind-icon">Credential<wbr>Subject</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/decryptedpresentation.html" class="tsd-kind-icon">Decrypted<wbr>Presentation</a>
					</li>
					<li class=" tsd-kind-interface tsd-is-external">
						<a href="interfaces/nopresentation.html" class="tsd-kind-icon">No<wbr>Presentation</a>
					</li>
					<li class=" tsd-kind-interface tsd-is-external">
						<a href="interfaces/presentation.html" class="tsd-kind-icon">Presentation</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/presentationrequestresponse.html" class="tsd-kind-icon">Presentation<wbr>Request<wbr>Response</a>
					</li>
					<li class=" tsd-kind-interface tsd-is-external">
						<a href="interfaces/proof.html" class="tsd-kind-icon">Proof</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/registeredissuer.html" class="tsd-kind-icon">Registered<wbr>Issuer</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/registeredverifier.html" class="tsd-kind-icon">Registered<wbr>Verifier</a>
					</li>
					<li class=" tsd-kind-interface tsd-has-type-parameter">
						<a href="interfaces/unumdto.html" class="tsd-kind-icon">Unum<wbr>Dto</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/verifiedstatus.html" class="tsd-kind-icon">Verified<wbr>Status</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="modules.html#checkcredentialstatus" class="tsd-kind-icon">check<wbr>Credential<wbr>Status</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="modules.html#extractcredentialinfo" class="tsd-kind-icon">extract<wbr>Credential<wbr>Info</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="modules.html#issuecredential" class="tsd-kind-icon">issue<wbr>Credential</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="modules.html#registerissuer" class="tsd-kind-icon">register<wbr>Issuer</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="modules.html#registerverifier" class="tsd-kind-icon">register<wbr>Verifier</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="modules.html#sendemail" class="tsd-kind-icon">send<wbr>Email</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="modules.html#sendrequest" class="tsd-kind-icon">send<wbr>Request</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="modules.html#sendsms" class="tsd-kind-icon">send<wbr>Sms</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="modules.html#updatecredentialstatus" class="tsd-kind-icon">update<wbr>Credential<wbr>Status</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="modules.html#verifypresentation" class="tsd-kind-icon">verify<wbr>Presentation</a>
					</li>
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
</body>
</html>