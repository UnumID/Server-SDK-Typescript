<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>@unumid/server-sdk</title>
	<meta name="description" content="Documentation for @unumid/server-sdk">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
	<script async src="assets/js/search.js" id="search-script"></script>
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">@unumid/server-sdk</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<h1>@unumid/server-sdk</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<p>This SDK combines the functionality of an <a href="#issuer"><strong>Issuer</strong></a> and <a href="#verifier"><strong>Verifier</strong></a> entity to work with UnumID&#39;s SaaS.</p>
				<a href="#sdk-functionality" id="sdk-functionality" style="color: inherit; text-decoration: none;">
					<h2>SDK Functionality</h2>
				</a>
				<p>The Server SDK uses the <strong>UnumDto</strong> type to facilitate handling many response body types while providing a reliable structure to access the result.</p>
				<pre><code class="language-typescript"><span style="color: #000000">{</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;authToken&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">; </span><span style="color: #008000">// The JWT auth token which is used by the SDK to authenticate with UnumID&#039;s SaaS. This is periodically refreshed thus its value should be read and stored in every resultant function call. </span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;body&quot;</span><span style="color: #000000">: </span><span style="color: #0070C1">T</span><span style="color: #000000">; </span><span style="color: #008000">// The placeholder for the function&#039;s response type is function specific. </span>
<span style="color: #000000">}</span>
</code></pre>
				<p><strong>Authentication</strong>
				Every request detailed below requires a preceding Bearer <code>authToken</code> as a first parameter which is used to authenticate request to UnumID&#39;s SaaS on your behalf. As mention above this auth token updated upon every subsequent function call and should be read via the <code>authToken</code> attribute and persisted accordingly for later requests. </p>
				<p><strong>Errors</strong>
				Errors returned by UnumID&#39;s SaaS will also be wrapped in the UnumDto object so that the (potentially) updated <code>authToken</code> can be retrieved. Validation errors which are created prior to any internal calls to UnumID&#39;s SaaS will however simply by of type Error and are thrown. This is due to never making a network call with the provided authToken so no (potential) new token to pass back.</p>
				<a href="#issuer" id="issuer" style="color: inherit; text-decoration: none;">
					<h2>Issuer</h2>
				</a>
				<p>The Issuer functionality is used by a customer acting as an Issuer. It allows one to register Issuers and perform actions such as issuing and revoking Credentials.</p>
				<a href="#registerissuer" id="registerissuer" style="color: inherit; text-decoration: none;">
					<h3>registerIssuer</h3>
				</a>
				<p>Register an issuer corresponding to your customer UUID and issuer API key provided by UnumID&#39;s SaaS. As a customer, you can register as many issuers as you like (or none at all), depending on your use case. Note, however, that you&#39;ll need a unique issuer API key for each one.</p>
				<p>You should store the DID (<code>did</code>) and encryption and signing key pairs (<code>keys</code>) that this returns. You&#39;ll need these to issue credentials to users.</p>
				<p>Parameters:</p>
				<pre><code class="language-typescript"><span style="color: #A31515">&quot;name&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// a human-readable name for the Issuer. It will be displayed to users in the Holder when Credentials from the Issuer are created.</span>
<span style="color: #A31515">&quot;customerUuid&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// your Unum ID customer uuid</span>
<span style="color: #A31515">&quot;apiKey&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000"> </span><span style="color: #008000">// a unique Issuer API key obtained from Unum ID</span>
</code></pre>
				<p>Response Body:  <a href="https://docs.unum.id/Server-SDK-Typescript/interfaces/registeredissuer.html"><strong>RegisteredIssuer</strong></a></p>
				<pre><code class="language-typescript"><span style="color: #000000">{</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;uuid&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// identifies the new Issuer in the Unum ID database</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;customerUuid&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// identifies the customer which Created the Issuer</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;did&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// identifies the Issuer in the Unum ID decentralized ecosystem</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;name&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// a human-readable name for the Issuer</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;createdAt&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// the date and time the Issuer was registered</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;updatedAt&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// the date and time the Issuer was last updated</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;keys&quot;</span><span style="color: #000000">: {</span>
<span style="color: #000000">    </span><span style="color: #A31515">&quot;signing&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> {</span>
<span style="color: #000000">      </span><span style="color: #A31515">&quot;privateKey&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// your Issuer Signing Private Key. You will need to provide it in order to issue Credentials</span>
<span style="color: #000000">      </span><span style="color: #A31515">&quot;publicKey&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// your Issuer Signing Public Key. It is also stored in the Issuer&#039;s DID Document, and can be used by other entities in the Unum ID ecosystem to verify the Issuer&#039;s signature on Credentials it issues.</span>
<span style="color: #000000">    }</span>
<span style="color: #000000">  }</span>
<span style="color: #000000">}</span>
</code></pre>
				<a href="#issuecredential" id="issuecredential" style="color: inherit; text-decoration: none;">
					<h3>issueCredential</h3>
				</a>
				<p>Issue a credential to a subject (user).</p>
				<p>You need to provide your issuer DID (created when you registered), as well as your signing and encryption private keys, which the Issuer uses to sign and encrypt the credential. You need to specify a credentialType, which verifiers will use to later request the credential from the user.</p>
				<p>This returns a credential <code>id</code> that you should store so you can later revoke the credential if need be. We would recommend storing the entire credential indexed on the resultant credential <code>id</code>. Note that there are also id fields within credentialSubject and credentialStatus, but these are different. They refer to the subject DID and credential status identifier, respectively.</p>
				<p>:::info
					The private keys never leave your app. This function, like all the others in this SDK, needs them in order to handle to cryptographic functionality on your behalf.
				:::</p>
				<p>Parameters</p>
				<pre><code class="language-typescript"><span style="color: #A31515">&quot;credentialSubject&quot;</span><span style="color: #000000">: {</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;id&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// a DID identifying the Subject of the Credential</span>
<span style="color: #000000">  </span><span style="color: #001080">[key: string]:</span><span style="color: #000000"> </span><span style="color: #001080">any</span><span style="color: #000000">, </span><span style="color: #008000">// any number of claims about the subject, expressed as key-value pairs</span>
<span style="color: #000000">},</span>
<span style="color: #A31515">&quot;type&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000"> || </span><span style="color: #001080">string</span><span style="color: #000000">[], </span><span style="color: #008000">// The Credential type(s)</span>
<span style="color: #A31515">&quot;issuer&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// DID identifying the Issuer issuing the Credential</span>
<span style="color: #A31515">&quot;expirationDate&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// date and time after which the Credential will no longer be valid</span>
<span style="color: #A31515">&quot;eccPrivateKey&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000"> </span><span style="color: #008000">// your Issuer&#039;s Private Key</span>
</code></pre>
				<p>Response Body: <a href="https://docs.unum.id/Server-SDK-Typescript/interfaces/credential.html"><strong>Credential</strong></a></p>
				<pre><code class="language-typescript"><span style="color: #000000">{</span>
<span style="color: #000000">    </span><span style="color: #A31515">&quot;@context&quot;</span><span style="color: #000000">: [</span><span style="color: #A31515">&quot;https://www.w3.org/2018/credentials/v1&quot;</span><span style="color: #000000">], </span><span style="color: #008000">// this field is specified in the W3C Verifiable Credential spec</span>
<span style="color: #000000">    </span><span style="color: #A31515">&quot;credentialStatus&quot;</span><span style="color: #000000">: {</span>
<span style="color: #000000">        </span><span style="color: #A31515">&quot;id&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// a url from which the Credential&#039;s status can be checked or updated</span>
<span style="color: #000000">        </span><span style="color: #A31515">&quot;type&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;CredentialStatus&quot;</span>
<span style="color: #000000">    },</span>
<span style="color: #000000">    </span><span style="color: #A31515">&quot;credentialSubject&quot;</span><span style="color: #000000">: {</span>
<span style="color: #000000">        </span><span style="color: #A31515">&quot;id&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// a DID identifying the Subject of the Credential</span>
<span style="color: #000000">        </span><span style="color: #001080">[key: string]:</span><span style="color: #000000"> </span><span style="color: #001080">any</span><span style="color: #000000">, </span><span style="color: #008000">// any number of claims about the subject, expressed as key-value pairs</span>
<span style="color: #000000">    },</span>
<span style="color: #000000">    </span><span style="color: #A31515">&quot;issuer&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// DID identifying the Issuer that issued the Credential</span>
<span style="color: #000000">    </span><span style="color: #A31515">&quot;type&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">[], </span><span style="color: #008000">// the Credential type(s)</span>
<span style="color: #000000">    </span><span style="color: #A31515">&quot;id&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// a version 4 UUID uniquely identifying the Credential</span>
<span style="color: #000000">    </span><span style="color: #A31515">&quot;issuanceDate&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// the date and time at which the credential was issued</span>
<span style="color: #000000">    </span><span style="color: #A31515">&quot;expirationDate&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// date and time after which the Credential will no longer be valid</span>
<span style="color: #000000">    </span><span style="color: #A31515">&quot;proof&quot;</span><span style="color: #000000">: </span><span style="color: #001080">Proof</span><span style="color: #000000"> </span><span style="color: #008000">// a cryptographic proof created by signing the Credential with the Issuer&#039;s Private Key. It can be used to verify the authenticity of the Credential.</span>
<span style="color: #000000">}</span>
</code></pre>
				<a href="#revokecredential" id="revokecredential" style="color: inherit; text-decoration: none;">
					<h3>revokeCredential</h3>
				</a>
				<p>Revoke a credential, i.e. make it invalid.</p>
				<p>You need to provide the credential <code>id</code> (created when you issued the credential).</p>
				<p>Parameters</p>
				<pre><code class="language-typescript"><span style="color: #000000">{</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;credentialId&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000"> </span><span style="color: #008000">// id of the Credential to revoke</span>
<span style="color: #000000">}</span>
</code></pre>
				<p>Response Body: <strong>Empty</strong>. If unsuccessful and exception will be thrown.</p>
				<pre><code class="language-typescript"><span style="color: #000000">{}</span>
</code></pre>
				<a href="#verifier" id="verifier" style="color: inherit; text-decoration: none;">
					<h2>Verifier</h2>
				</a>
				<p>The Verifier functionality is used by a customer acting as a verifier. It allows one to register verifiers. Most importantly, it allows one to send PresentationRequests and verify Presentations.</p>
				<a href="#registerverifier" id="registerverifier" style="color: inherit; text-decoration: none;">
					<h3>registerVerifier</h3>
				</a>
				<p>Register a verifier corresponding to your customer UUID and verifier API key that UnumID&#39;s SaaS provides. As a customer, you can register as many verifiers as you like (or none at all), depending on your use case. Note, however, that you&#39;ll need a unique verifier API key for each one.</p>
				<p>You should store the DID (<code>did</code>) and signing key pair (<code>keys</code>) that this returns. You&#39;ll need these to create requests for (presentations of) credentials from users.</p>
				<p>Parameters</p>
				<pre><code class="language-typescript"><span style="color: #A31515">&quot;name&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// a human-readable name for the verifier. It will be displayed to users in the Holder when receiving a PresentationRequest.</span>
<span style="color: #A31515">&quot;customerUuid&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// your Unum ID customer uuid</span>
<span style="color: #A31515">&quot;apiKey&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000"> </span><span style="color: #008000">// a unique Verifier API key obtained from Unum ID</span>
</code></pre>
				<p>Response body: <a href="https://docs.unum.id/Server-SDK-Typescript/interfaces/registeredverifier.html"><strong>RegisteredVerifier</strong></a></p>
				<pre><code class="language-typescript"><span style="color: #000000">{</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;uuid&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// identifies the new Verifier in the Unum ID database</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;customerUuid&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// identifies the customer which Created the Verifier</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;did&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// identifies the Verifier in the Unum ID decentralized ecosystem</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;name&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// a human-readable name for the Verifier</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;createdAt&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// the date and time the Verifier was registered</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;updatedAt&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// the date and time the Verifier was last updated</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;keys&quot;</span><span style="color: #000000">: {</span>
<span style="color: #000000">    </span><span style="color: #A31515">&quot;signing&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> {</span>
<span style="color: #000000">      </span><span style="color: #A31515">&quot;privateKey&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// your Verifier Signing Private Key. You will need to provide it in order to send PresentationRequests</span>
<span style="color: #000000">      </span><span style="color: #A31515">&quot;publicKey&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// your Verifier Signing Public Key. It is also stored in the Verifiers DID Document, and can be used by other entities in the Unum ID ecosystem to verify the Verifier&#039;s signature on PresentationRequests it creates</span>
<span style="color: #000000">    }, </span><span style="color: #A31515">&quot;encryption&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> {</span>
<span style="color: #000000">      </span><span style="color: #A31515">&quot;privateKey&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// your Verifier Encryption Private Key. You will need to provide it in order to send PresentationRequests</span>
<span style="color: #000000">      </span><span style="color: #A31515">&quot;publicKey&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// your Verifier Encryption Public Key. It is also stored in the Verifiers DID Document, and can be used by other entities in the Unum ID ecosystem to encrypt presentations for the Verifier to verifier.</span>
<span style="color: #000000">    }</span>
<span style="color: #000000">  }</span>
<span style="color: #000000">}</span>
</code></pre>
				<a href="#sendrequest" id="sendrequest" style="color: inherit; text-decoration: none;">
					<h3>sendRequest</h3>
				</a>
				<p>Create a request for (a presentation of) credentials from a user.</p>
				<p>You need to provide your verifier DID (created when you registered) and the UUID of the holder app from which the user can share the data. You also need to provide your signing private key, which the Verifier App uses to sign the request.</p>
				<p>To request credentials, you need to specify the credentialType and one or more acceptable issuers (entities that issue those credentials). If you list more than one issuer, the user can share a credential issued by any of the ones you list.</p>
				<p>:::info
					The private keys never leave your app. This function, like all the others in this SDK, needs them in order to handle to cryptographic functionality on your behalf.
				:::</p>
				<p>Parameters</p>
				<pre><code class="language-typescript"><span style="color: #A31515">&quot;verifier&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// your Verifier DID</span>
<span style="color: #A31515">&quot;credentialRequests&quot;</span><span style="color: #000000">: </span><span style="color: #001080">CredentialRequest</span><span style="color: #000000">[], </span><span style="color: #008000">// a list of one or more CredentialRequest objects. Describes the Credentials which should be shared to fulfill the PresentationRequest</span>
<span style="color: #A31515">&quot;eccPrivateKey&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// your Verifier&#039;s Private Key</span>
<span style="color: #A31515">&quot;holderAppUuid&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// identifies which Holder App the PresentationRequest should be sent to</span>
<span style="color: #A31515">&quot;expiresAt&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// Optional. The date and time the PresentationRequest should expire. Default is 10 minutes after creation</span>
<span style="color: #A31515">&quot;metadata&quot;</span><span style="color: #000000">: </span><span style="color: #001080">object</span><span style="color: #000000"> </span><span style="color: #008000">// any additional data to include in the PresentationRequest</span>
</code></pre>
				<p>Response Body: <a href="https://docs.unum.id/Server-SDK-Typescript/interfaces/presentationrequestresponse.html"><strong>PresentationRequestResponse</strong></a></p>
				<pre><code class="language-typescript"><span style="color: #000000">{</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;presentationRequest&quot;</span><span style="color: #000000">: {</span>
<span style="color: #000000">    </span><span style="color: #A31515">&quot;uuid&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// identifies the PresentationRequest in the Unum ID database</span>
<span style="color: #000000">    </span><span style="color: #A31515">&quot;createdAt&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// the date and time the PresentationRequest was created</span>
<span style="color: #000000">    </span><span style="color: #A31515">&quot;updatedAt&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// the date and time the PresentationRequest was last updated. This should always be the same as createdAt</span>
<span style="color: #000000">    </span><span style="color: #A31515">&quot;expiresAt&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// the date and time the PresentationRequest expires</span>
<span style="color: #000000">    </span><span style="color: #A31515">&quot;verifier&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// DID identifying the Verifier which created the PresentationRequest</span>
<span style="color: #000000">    </span><span style="color: #A31515">&quot;credentialRequests&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #001080">CredentialRequest</span><span style="color: #000000">[], </span><span style="color: #008000">// a list of one or more CredentialRequest objects. Describes the Credentials which should be shared to fulfill the PresentationRequest</span>
<span style="color: #000000">    </span><span style="color: #A31515">&quot;proof&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #001080">Proof</span><span style="color: #000000">, </span><span style="color: #008000">// a cryptographic proof signed by your Verifier Private Key that can be used to verify the authenticity of the PresentationRequest</span>
<span style="color: #000000">    </span><span style="color: #A31515">&quot;metadata&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #001080">object</span><span style="color: #000000"> </span><span style="color: #008000">// any additional data provided when the PresentationRequest was created</span>
<span style="color: #000000">  },</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;verifier&quot;</span><span style="color: #000000">: {</span>
<span style="color: #000000">      </span><span style="color: #A31515">&quot;name&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// verifier name</span>
<span style="color: #000000">      </span><span style="color: #A31515">&quot;did&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// verifier did</span>
<span style="color: #000000">      </span><span style="color: #A31515">&quot;url&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #001080">string</span><span style="color: #000000"> </span><span style="color: #008000">// the url of a customer applications that received presentations</span>
<span style="color: #000000">  },</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;issuers&quot;</span><span style="color: #000000">: {</span>
<span style="color: #000000">      </span><span style="color: #A31515">&quot;IssuerDid:string&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> { </span><span style="color: #008000">// a map keyed on the issuer did that issued the requested credential(s)</span>
<span style="color: #000000">        </span><span style="color: #A31515">&quot;name&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// name of the issuer that issued the credential(s)</span>
<span style="color: #000000">        </span><span style="color: #A31515">&quot;did&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #001080">string</span><span style="color: #000000"> </span><span style="color: #008000">// issuer did that issued the credential(s) </span>
<span style="color: #000000">      }</span>
<span style="color: #000000">  },</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;deeplink&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// a deeplink that can be used to trigger the intended HolderApp to load the PresentationRequest</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;qrCode&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000"> </span><span style="color: #008000">// a QR code containing the deeplink, encoded as a data URL</span>
<span style="color: #000000">}</span>
</code></pre>
				<a href="#verifyencryptedpresentation" id="verifyencryptedpresentation" style="color: inherit; text-decoration: none;">
					<h3>verifyEncryptedPresentation</h3>
				</a>
				<p>Verify a encrypted Presentation. </p>
				<p>This is used in service behind the <code>/presentation</code> endpoint that needs to be defined according to <a href="unum.id">this</a> spec which UnumID&#39;s SaaS forwards encrypted Presentations to. It handles decrypting the encrypted presentation and verifies the signature is valid. </p>
				<p>:::tip
					Although this request is coming from UnumID&#39;s SaaS, UnumID never has access to the credentials within the presentation due to the encryption. Do not forget to save the signing and encryption private keys returned during the <strong>registerVerifier</strong> step.
				:::</p>
				<p>Parameters</p>
				<pre><code class="language-typescript"><span style="color: #A31515">&quot;encryptedPresentation&quot;</span><span style="color: #000000">: </span><span style="color: #001080">EncryptedData</span><span style="color: #000000">, </span><span style="color: #008000">// the encrypted presentation with sensitive credential information.</span>
<span style="color: #A31515">&quot;verifierDid&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// the did associated with the verifier&#039;s public that was used to encrypt the presentation by the Holder SDK.</span>
<span style="color: #A31515">&quot;encryptionPrivateKey&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000"> </span><span style="color: #008000">// associated Verifier&#039;s (based on did) `encryptionPrivateKey` attribute that should persisted in your db.</span>
</code></pre>
				<p>Response Body: <a href="https://docs.unum.id/Server-SDK-Typescript/interfaces/decryptedpresentation.html"><strong>DecryptedPresentation</strong></a></p>
				<pre><code class="language-typescript"><span style="color: #000000">{</span>
<span style="color: #000000">  isVerified: </span><span style="color: #001080">boolean</span><span style="color: #000000">; </span><span style="color: #008000">// boolean indicating wether the signatures signed by the subject (user) is valid </span>
<span style="color: #000000">  type: </span><span style="color: #A31515">&#039;VerifiablePresentation&#039;</span><span style="color: #000000"> | </span><span style="color: #A31515">&#039;NoPresentation&#039;</span><span style="color: #000000"> </span><span style="color: #008000">// type of the presentation. NoPresentation means the presentation request was declined by the user.</span>
<span style="color: #000000">  </span><span style="color: #001080">credentials</span><span style="color: #000000">?: </span><span style="color: #001080">VerifiableCredential</span><span style="color: #000000">[] </span><span style="color: #008000">// (optional) a list of VerifiableCredential objects. This is the decrypted credential information. Only populated if the presentation signatures are verified and of type `VerifiablePresentation`.</span>
<span style="color: #000000">  </span><span style="color: #001080">message</span><span style="color: #000000">?: </span><span style="color: #001080">string</span><span style="color: #000000">; </span><span style="color: #008000">// (optional) message detailing why the verification did not succeed if isVerified is false.</span>
<span style="color: #000000">}</span>
</code></pre>
				<a href="#sendsms" id="sendsms" style="color: inherit; text-decoration: none;">
					<h3>sendSms</h3>
				</a>
				<p>Use to send a deep link to a user by SMS. The message will be delivered from an Unum ID associated phone number. You can of course use your own SMS sending service if you prefer.</p>
				<p>To request (a presentation of) credentials from a user, you first create the request object and receive a deep link that references it. The user need to receive this deep link, which will open the correct app on their phone and prompt them to share the credentials. SMS is one convenient channel.</p>
				<p>Parameters</p>
				<pre><code class="language-typescript"><span style="color: #000000">{</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;to&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// phone number to send the SMS to</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;msg&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000"> </span><span style="color: #008000">// message to send</span>
<span style="color: #000000">}</span>
</code></pre>
				<p>Response Body: <strong>Empty</strong>. If unsuccessful and exception will be thrown.</p>
				<pre><code class="language-typescript"><span style="color: #000000">{}</span>
</code></pre>
				<a href="#sendemail" id="sendemail" style="color: inherit; text-decoration: none;">
					<h3>sendEmail</h3>
				</a>
				<p>Use to send a deep link to a user by email. The message will be delivered from <a href="mailto:DoNotReply@UnumID.org">DoNotReply@UnumID.org</a>. You can of course use your own email sending service if you prefer.</p>
				<p>To request (a presentation of) credentials from a user, you first create the request object and receive a deep link that references it. The user need to receive this deep link, which will open the correct app on their phone and prompt them to share the credentials. Email is one convenient channel, though keep in mind that the user will need to click the link from their phone for the deep link to work.</p>
				<p>:::tip
					JSON special characters such a double quote or backslash in the <code>subject</code> or <code>htmlBody</code> fields will need to be escaped with a backslash, i.e. &quot;the best org in the country&quot; must be &quot;the best org in the country&quot;.
				:::</p>
				<p>Parameters</p>
				<pre><code class="language-typescript"><span style="color: #000000">{</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;to&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// target email</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;from&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// from email</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;replyTo&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// replyTo email</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;subject&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// subject of the email</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;textBody&quot;</span><span style="color: #000000">: </span><span style="color: #001080">string</span><span style="color: #000000">, </span><span style="color: #008000">// email message body</span>
<span style="color: #000000">}</span>
</code></pre>
				<p>Response Body: <strong>Empty</strong>. If unsuccessful and exception will be thrown.</p>
				<pre><code class="language-typescript"><span style="color: #000000">{}</span>
</code></pre>
				<a href="#other-information" id="other-information" style="color: inherit; text-decoration: none;">
					<h2>Other Information</h2>
				</a>
				<a href="#distribution" id="distribution" style="color: inherit; text-decoration: none;">
					<h3>Distribution</h3>
				</a>
				<p>Currently this project is still closed source, so standard distribution options via public source code or NPM repository are not viable. In downstream projects are leveraging this project via it&#39;s git url using Docker Buildkit to provide SSH credentials for access to this Github source code repo. An example of such a buildkit configuration can be found in the <a href="https://github.com/UnumID/hooli-demo-server">hooli-demo-server</a> <code>Dockerfile</code> and <code>.circleci/config.yaml</code>.</p>
				<p>We considered opting to build and push as a private module through a private Github NPM repo. However due to the complexities of configuring a downstream project to have rights to pull from the private NPM repo we have opted to not add pushing a private package to our CI job. </p>
				<p>Soon, we hope to open source this project and uploaded the package as public NPM module.  </p>
				<a href="#global-dependencies" id="global-dependencies" style="color: inherit; text-decoration: none;">
					<h3>Global Dependencies</h3>
				</a>
				<ul>
					<li>NodeJS v14.0.0 or higher, preferably v14.15.0 or higher</li>
					<li>yarn</li>
				</ul>
				<a href="#logging" id="logging" style="color: inherit; text-decoration: none;">
					<h3>Logging</h3>
				</a>
				<p>Logs level defaults to Info. One can set to debug for more information via the environment variable LOG_LEVEL, i.e. LOG_LEVEL=debug. We are using standard NPM log levels. More details on the various log levels <a href="https://github.com/winstonjs/winston#logging-levels">here</a>.</p>
				<p>The logs default to stdout so can be aggregated using any log provider you would like from disk.</p>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class=" ">
						<a href="modules.html">Exports</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
					<li class=" tsd-kind-class tsd-is-external">
						<a href="classes/custerror.html" class="tsd-kind-icon">Cust<wbr>Error</a>
					</li>
					<li class=" tsd-kind-interface tsd-is-external">
						<a href="interfaces/credential.html" class="tsd-kind-icon">Credential</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/credentialinfo.html" class="tsd-kind-icon">Credential<wbr>Info</a>
					</li>
					<li class=" tsd-kind-interface tsd-is-external">
						<a href="interfaces/credentialsubject.html" class="tsd-kind-icon">Credential<wbr>Subject</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/decryptedpresentation.html" class="tsd-kind-icon">Decrypted<wbr>Presentation</a>
					</li>
					<li class=" tsd-kind-interface tsd-is-external">
						<a href="interfaces/nopresentation.html" class="tsd-kind-icon">No<wbr>Presentation</a>
					</li>
					<li class=" tsd-kind-interface tsd-is-external">
						<a href="interfaces/presentation.html" class="tsd-kind-icon">Presentation</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/presentationrequestresponse.html" class="tsd-kind-icon">Presentation<wbr>Request<wbr>Response</a>
					</li>
					<li class=" tsd-kind-interface tsd-is-external">
						<a href="interfaces/proof.html" class="tsd-kind-icon">Proof</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/registeredissuer.html" class="tsd-kind-icon">Registered<wbr>Issuer</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/registeredverifier.html" class="tsd-kind-icon">Registered<wbr>Verifier</a>
					</li>
					<li class=" tsd-kind-interface tsd-has-type-parameter">
						<a href="interfaces/unumdto.html" class="tsd-kind-icon">Unum<wbr>Dto</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/verifiedstatus.html" class="tsd-kind-icon">Verified<wbr>Status</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="modules.html#extractcredentialinfo" class="tsd-kind-icon">extract<wbr>Credential<wbr>Info</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="modules.html#issuecredential" class="tsd-kind-icon">issue<wbr>Credential</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="modules.html#registerissuer" class="tsd-kind-icon">register<wbr>Issuer</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="modules.html#registerverifier" class="tsd-kind-icon">register<wbr>Verifier</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="modules.html#revokecredential" class="tsd-kind-icon">revoke<wbr>Credential</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="modules.html#sendemail" class="tsd-kind-icon">send<wbr>Email</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="modules.html#sendrequest" class="tsd-kind-icon">send<wbr>Request</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="modules.html#sendsms" class="tsd-kind-icon">send<wbr>Sms</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="modules.html#verifyencryptedpresentation" class="tsd-kind-icon">verify<wbr>Encrypted<wbr>Presentation</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="modules.html#verifynopresentation" class="tsd-kind-icon">verify<wbr>NoPresentation</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="modules.html#verifypresentation" class="tsd-kind-icon">verify<wbr>Presentation</a>
					</li>
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
</body>
</html>